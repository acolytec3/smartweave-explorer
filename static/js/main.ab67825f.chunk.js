(this.webpackJsonpsmartweave_explorer=this.webpackJsonpsmartweave_explorer||[]).push([[0],{163:function(e,t){},239:function(e,t){},245:function(e,t){},354:function(e,t){},356:function(e,t){},368:function(e,t){},370:function(e,t){},393:function(e,t){},524:function(e,t){},542:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(61),s=n.n(c),o=n(3),i=n(578),l=n(559),u=n(575),d=n(5),j=n(6),b=n.n(j),p=n(20),f=n(556),O=n(579),h=n(560),x=n(561),m=n(562),v=n(573),y=n(564),w=n(577),g=n(566),k=n(567),S=n(284),C=n(581),E=n(580),T=n(558),A={key:null,balance:"",address:"",tokens:[],tokenAddresses:[],wallets:[]},L=Object(a.createContext)({state:A,dispatch:function(){return null}}),I=n(92),D=n.n(I),W=(n(169),n(285)),R=function(){return D.a.init({host:"arweave.net",port:443})},_=function(){var e=Object(p.a)(b.a.mark((function e(t){var n,a,r;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=R(),a="","string"!==typeof t){e.next=6;break}a=t,e.next=9;break;case 6:return e.next=8,n.wallets.jwkToAddress(t);case 8:a=e.sent;case 9:return e.t0=n.ar,e.next=12,n.wallets.getBalance(a);case 12:return e.t1=e.sent,r=e.t0.winstonToAr.call(e.t0,e.t1),e.abrupt("return",{address:a,balance:r});case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),M=function(){var e=Object(p.a)(b.a.mark((function e(t){var n,a,r,c,s;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=R(),a={query:'\n  query {\n    transactions(ids: ["'.concat(t,'"]) {\n        edges {\n            node {\n                id\n              \ttags {\n                  name\n                  value\n                }\n            }\n        }\n    }\n}')},e.next=4,n.api.post("/graphql",a);case 4:return r=e.sent,console.log(r),c=r.data.data.transactions.edges[0].node.tags.filter((function(e){return"Contract-Src"===e.name}))[0].value,console.log(c),e.next=10,n.transactions.getData(c,{decode:!0,string:!0});case 10:return s=e.sent,e.abrupt("return",s);case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),z=function(){var e=Object(p.a)(b.a.mark((function e(t){var n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=R(),e.next=3,Object(W.a)(n,t);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),N=n(71),F=n(344),V=function(){return D.a.init({host:"arweave.net",port:443})},q=function(e){var t=F.parse(e,{ecmaVersion:"latest",sourceType:"module"});if("handle"===t.body[0].declaration.id.name){var n=t.body[0].declaration.body.body.filter((function(e){return"IfStatement"===e.type&&"input"===e.test.left.object.name})),a=[],r=[];return n.forEach((function(e){if("BinaryExpression"===e.test.type&&e.test.left.object&&"input"===e.test.left.object.name)try{console.log(e);var t=e.consequent.body[e.consequent.body.length-1];if("ReturnStatement"===t.type&&"state"===t.argument.properties[0].key.name){var n=e.consequent.body.filter((function(e){return"VariableDeclaration"===e.type&&e.declarations[0].init.object&&"input"===e.declarations[0].init.object.name})).map((function(e){return e.declarations[0].init.property.name})),c=e.test.right.value;r.push({name:c,params:n,methodType:"write"})}else{var s=e.consequent.body.filter((function(e){return"VariableDeclaration"===e.type&&(e.declarations[0].init.left&&e.declarations[0].init.left.object&&"input"===e.declarations[0].init.left.object.name||e.declarations[0].init.object&&"input"===e.declarations[0].init.object.name)})).map((function(e){return e.declarations[0].init.left.property.name})),o=e.test.right.value;a.push({name:o,params:s,methodType:"read"})}}catch(i){console.log(i)}})),{readMethods:a,writeMethods:r}}},J=function(){var e=Object(p.a)(b.a.mark((function e(t,n,a,r,c){var s,o,i,l;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(i in s=V(),o=Object(d.a)({},a))"integer"===c[i]?o[i]=parseInt(a[i]):"float"===c[i]&&(o[i]=parseFloat(a[i]));return e.next=5,Object(N.interactWriteDryRun)(s,r,n,Object(d.a)(Object(d.a)({},o),{},{function:t}));case 5:return l=e.sent,e.abrupt("return",l.type);case 7:case"end":return e.stop()}}),e)})));return function(t,n,a,r,c){return e.apply(this,arguments)}}(),B=function(){var e=Object(p.a)(b.a.mark((function e(t,n,a,r,c,s){var o,i,l,u;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(l in o=V(),console.log("params are"),console.log(a),console.log("types are"),console.log(c),i=Object(d.a)({},a))"integer"===c[l]?i[l]=parseInt(a[l]):"float"===c[l]&&(i[l]=parseFloat(a[l]));if("write"!==s){e.next=13;break}return e.next=10,Object(N.interactWrite)(o,r,n,Object(d.a)(Object(d.a)({},i),{},{function:t}));case 10:u=e.sent,e.next=16;break;case 13:return e.next=15,Object(N.interactRead)(o,r,n,Object(d.a)(Object(d.a)({},i),{},{function:t}));case 15:u=e.sent;case 16:return console.log(u),e.abrupt("return",u);case 18:case"end":return e.stop()}}),e)})));return function(t,n,a,r,c,s){return e.apply(this,arguments)}}(),H=n(4),K=function(){var e=r.a.useState(""),t=Object(o.a)(e,2),n=t[0],a=t[1],c=r.a.useState(""),s=Object(o.a)(c,2),u=s[0],d=s[1],j=r.a.useState([]),v=Object(o.a)(j,2),y=v[0],w=v[1],g=r.a.useState([]),k=Object(o.a)(g,2),S=k[0],C=k[1],E=r.a.useState({}),T=Object(o.a)(E,2),A=T[0],L=T[1],I=function(){var e=Object(p.a)(b.a.mark((function e(){var t,n,r;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,M(u);case 2:return t=e.sent,a(t),e.next=6,q(t);case 6:return(null===(n=e.sent)||void 0===n?void 0:n.writeMethods)&&w(n.writeMethods),(null===n||void 0===n?void 0:n.readMethods)&&C(n.readMethods),e.next=11,z(u);case 11:r=e.sent,L(r);case 13:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(H.jsxs)(i.c,{children:[Object(H.jsx)(f.a,{placeholder:"Smartweave Contract ID",value:u,onChange:function(e){return d(e.target.value)}}),Object(H.jsx)(O.a,{onClick:I,children:"Load Contract"}),Object(H.jsx)(l.a,{size:"xs",children:"Contract Source"}),Object(H.jsx)(h.a,{w:"100%",children:Object(H.jsx)(x.a,{overflow:"scroll",height:"200px",readOnly:!0,fontSize:"xs",isReadOnly:!0,defaultValue:n})}),Object(H.jsx)(l.a,{size:"xs",children:"Contract State"}),Object(H.jsx)(h.a,{w:"100%",overflow:"scroll",height:"200px",fontSize:"xs",align:"start",children:JSON.stringify(A,null,2)}),Object(H.jsx)(l.a,{size:"xs",children:"Write Methods"}),Object(H.jsx)(m.a,{children:y&&y.map((function(e){return Object(H.jsx)(m.b,{children:Object(H.jsx)(P,{name:e.name,params:e.params,methodType:e.methodType,contractId:u})})}))}),Object(H.jsx)(l.a,{size:"xs",children:"Read Methods"}),Object(H.jsx)(m.a,{children:S&&S.map((function(e){return Object(H.jsx)(m.b,{children:Object(H.jsx)(P,{name:e.name,params:e.params,methodType:e.methodType,contractId:u})})}))})]})},P=function(e){var t=e.name,n=e.params,a=e.methodType,c=e.contractId,s=r.a.useState({}),l=Object(o.a)(s,2),u=l[0],j=l[1],m=r.a.useState({}),A=Object(o.a)(m,2),I=A[0],D=A[1],W=r.a.useContext(L).state,R=Object(v.a)(),_=r.a.useState(),M=Object(o.a)(_,2),z=M[0],N=M[1],F=Object(y.a)(),V=F.isOpen,q=F.onToggle,K=function(){var e=Object(p.a)(b.a.mark((function e(n){var r;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,B(t,c,u,W.key,I,a);case 2:r=e.sent,R(r?{title:"Successfully submitted transaction!",status:"success",duration:3e3,position:"bottom"}:{title:"Error submitting transaction",status:"error",duration:3e3,position:"bottom"}),n(),N();case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(H.jsx)(w.a,{allowToggle:!0,children:Object(H.jsxs)(w.d,{children:[Object(H.jsxs)(w.b,{children:[Object(H.jsx)(g.a,{children:t}),Object(H.jsx)(w.c,{})]}),Object(H.jsxs)(w.e,{children:[n.map((function(e,n){return Object(H.jsxs)(k.a,{children:[Object(H.jsx)(f.a,{placeholder:e,value:u[n],onChange:function(t){var n=Object(d.a)({},u);n[e]=t.target.value,j(n)}},t+e),Object(H.jsxs)(S.a,{name:"param-type",onChange:function(t){var n=Object(d.a)({},I);n[e]=t.toString(),D(n)},value:I[e],direction:"horizontal",children:[Object(H.jsx)(C.a,{value:"string",children:"String"}),Object(H.jsx)(C.a,{value:"integer",children:"Integer"}),Object(H.jsx)(C.a,{value:"float",children:"Float"})]})]})})),"write"===a?Object(H.jsx)(H.Fragment,{children:!V&&!z&&Object(H.jsx)(O.a,{onClick:function(){q(),J(t,c,u,W.key,I).then((function(e){return N(e)}))},children:"Test Contract Method Call"})}):Object(H.jsx)(H.Fragment,{children:V?Object(H.jsx)(O.a,{onClick:function(){q(),N()},children:"Start Over"}):Object(H.jsx)(O.a,{onClick:function(){q(),B(t,c,u,W.key,I,a).then((function(e){return N(e)}))},children:"Read Contract"})}),Object(H.jsx)(E.a,{in:V,children:"write"===a?Object(H.jsxs)(i.c,{children:[z?Object(H.jsxs)(g.a,{children:["Transaction status is ",z]}):Object(H.jsx)(T.a,{}),Object(H.jsxs)(i.a,{children:[Object(H.jsx)(O.a,{onClick:function(){return K(q)},children:"Live dangerously!"}),Object(H.jsx)(O.a,{onClick:function(){q(),N()},children:"Start Over"})]})]}):Object(H.jsxs)(h.a,{children:[Object(H.jsx)(g.a,{children:"Method Result"}),z?Object(H.jsx)(x.a,{isReadOnly:!0,overflow:"scroll",height:"200px",readOnly:!0,fontSize:"xs",defaultValue:JSON.stringify(z,null,2)}):Object(H.jsx)(T.a,{})]})})]})]},t)})},U=n(568),G=n(574),$=n(569),Q=n(572),X=n(571),Y=n(175),Z=n(283),ee=n(97),te=function(){var e=Object(v.a)(),t=r.a.useContext(L),n=t.state,a=t.dispatch,c=r.a.useState(!1),s=Object(o.a)(c,2),u=s[0],j=s[1],h=r.a.useState(""),x=Object(o.a)(h,2),m=x[0],y=x[1],w=r.a.useState(""),S=Object(o.a)(w,2),C=S[0],E=S[1],T=Object(U.a)(C).onCopy,A=function(){var t=Object(p.a)(b.a.mark((function t(n){var r;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:(r=new FileReader).onabort=function(){return console.log("file reading was aborted")},r.onerror=function(){return console.log("file reading has failed")},r.onload=function(){var t=Object(p.a)(b.a.mark((function t(r){var c,s;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(j(!0),"application/json"!==n[0].type){t.next=16;break}return t.prev=2,c=JSON.parse(r.target.result),t.next=6,_(c);case 6:s=t.sent,a({type:"ADD_WALLET",payload:Object(d.a)(Object(d.a)({},s),{},{key:c,mnemonic:c.mnemonic})}),t.next=14;break;case 10:t.prev=10,t.t0=t.catch(2),console.log("Invalid json in wallet file"),e({title:"Error loading wallet",status:"error",duration:3e3,position:"bottom-left",description:"Invalid JSON in wallet file"});case 14:t.next=18;break;case 16:console.log("Invalid file type"),e({title:"Error loading wallet",status:"error",duration:3e3,position:"bottom-left",description:"Invalid file type"});case 18:j(!1);case 19:case"end":return t.stop()}}),t,null,[[2,10]])})));return function(e){return t.apply(this,arguments)}}();try{r.readAsText(n[0])}catch(c){console.log("Invalid file type"),e({title:"Error loading wallet",status:"error",duration:3e3,position:"bottom-left",description:"Invalid file type"})}case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),I=function(){var e=Object(p.a)(b.a.mark((function e(t){var n,r;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return j(!0),e.next=3,Object(Y.getKeyFromMnemonic)(t);case 3:return n=e.sent,e.next=6,_(n);case 6:r=e.sent,j(!1),a({type:"ADD_WALLET",payload:Object(d.a)(Object(d.a)({},r),{},{key:n,mnemonic:t})});case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),D=function(){var e=Object(p.a)(b.a.mark((function e(){var t;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return j(!0),e.next=3,Object(Y.generateMnemonic)();case 3:t=e.sent,y(t),I(t);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),W=function(){var e=Object(p.a)(b.a.mark((function e(t){var n,a,r;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=new Blob([JSON.stringify(Object(d.a)(Object(d.a)({},t.key),{},{mnemonic:t.mnemonic}),null,2)],{type:"application/json"}),e.next=3,URL.createObjectURL(n);case 3:a=e.sent,(r=document.createElement("a")).href=a,r.download="arweave-keyfile-".concat(t.address,".json"),document.body.appendChild(r),r.click(),document.body.removeChild(r);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),R=function(){var e=Object(p.a)(b.a.mark((function e(t){var n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_(t);case 2:n=e.sent,a({type:"CHANGE_ACTIVE_WALLET",payload:{address:n.address,balance:n.balance}});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(H.jsxs)(i.b,{align:"center",children:[Object(H.jsxs)(G.a,{isLoaded:!u,children:[Object(H.jsx)(k.a,{w:"100%",borderStyle:"dashed",borderWidth:"2px",mb:2,children:Object(H.jsx)(Z.a,{onDrop:A,children:function(e){var t=e.getRootProps,n=e.getInputProps;return Object(H.jsx)("section",{children:Object(H.jsxs)("div",Object(d.a)(Object(d.a)({},t()),{},{children:[Object(H.jsx)("input",Object(d.a)({},n())),Object(H.jsx)(k.a,{flexDirection:"row",padding:3,children:Object(H.jsx)(g.a,{fontSize:14,textAlign:"center",children:"Drop a wallet file or click to load wallet"})})]}))})}})}),Object(H.jsxs)(i.b,{w:"100%",mb:2,children:[Object(H.jsx)(l.a,{size:"xs",children:"Wallet mnemonic"}),Object(H.jsx)(f.a,{w:"93%%",placeholder:"Enter 12 word seedphrase",onChange:function(e){y(e.target.value)}}),Object(H.jsx)(O.a,{isDisabled:""===m,onClick:function(){return I(m)},children:"Load Wallet"})]}),Object(H.jsx)(i.b,{w:"100%",children:Object(H.jsx)(O.a,{mt:2,onClick:D,children:"Generate New Wallet"})})]}),n.address&&Object(H.jsxs)(H.Fragment,{children:[Object(H.jsx)($.a,{}),Object(H.jsx)(l.a,{size:"sm",children:"Loaded Wallets"})]}),n.wallets.length>0&&n.wallets.map((function(e){return console.log(e),Object(H.jsx)(i.b,{isInline:!0,align:"start",children:Object(H.jsxs)(Q.a,{children:[Object(H.jsx)(Q.e,{children:Object(H.jsx)(g.a,{whiteSpace:"nowrap",overflow:"hidden",maxWidth:"90vw",textOverflow:"ellipsis",cursor:"pointer",children:e.address})}),Object(H.jsxs)(Q.d,{children:[Object(H.jsx)(Q.b,{}),Object(H.jsx)(Q.c,{children:Object(H.jsxs)(i.b,{isInline:!0,justifyContent:"space-around",children:[Object(H.jsxs)(X.a,{direction:"column",align:"center",justify:"center",as:"button",onClick:function(){R(e.address)},alignContent:"start",children:[Object(H.jsx)(ee.a,{size:16}),Object(H.jsx)(g.a,{children:"Use"})]},e.address+"pseudo2"),Object(H.jsxs)(X.a,{as:"button",direction:"column",align:"center",justify:"center",onClick:function(){a({type:"REMOVE_WALLET",payload:{address:e.address}})},children:[Object(H.jsx)(ee.d,{size:16}),Object(H.jsx)(g.a,{children:"Remove"})]}),Object(H.jsxs)(X.a,{as:"button",direction:"column",align:"center",justify:"center",onClick:function(){return W(e)},children:[Object(H.jsx)(ee.c,{size:16}),Object(H.jsx)(g.a,{children:"Download Keyfile"})]}),e.mnemonic&&Object(H.jsxs)(X.a,{as:"button",direction:"column",align:"center",justify:"center",onClick:function(){e.mnemonic&&E(e.mnemonic),T()},children:[Object(H.jsx)(ee.b,{size:16}),Object(H.jsx)(g.a,{children:"Copy Seedphrase"})]})]})})]})]})})}))]})},ne=function(e,t){switch(console.log("Current state is:"),console.log(e),console.log("Action requested is:"),console.log(t),t.type){case"LOAD_STATE":return Object(d.a)({},t.payload.state);case"ADD_WALLET":var n,a=null===(n=e.wallets)||void 0===n?void 0:n.filter((function(e){return e.address===t.payload.address})),r=e.wallets?e.wallets:[];return a&&0===a.length&&(null===r||void 0===r||r.push({address:t.payload.address,key:t.payload.key,mnemonic:t.payload.mnemonic})),Object(d.a)(Object(d.a)({},e),{},{key:t.payload.key,balance:t.payload.balance,address:t.payload.address,mnemonic:t.payload.mnemonic,wallets:r});case"UPDATE_TOKENS":return Object(d.a)(Object(d.a)({},e),{},{tokens:t.payload.tokens});case"SET_PICTURE":return Object(d.a)(Object(d.a)({},e),{},{picture:t.payload.picture});case"SET_BLOCK_HEIGHT":return Object(d.a)(Object(d.a)({},e),{},{blockHeight:t.payload.blockHeight});case"SET_TOKEN_ADDRESSES":return Object(d.a)(Object(d.a)({},e),{},{tokenAddresses:t.payload.tokenAddresses});case"CHANGE_ACTIVE_WALLET":var c=e.wallets.find((function(e){return e.address===t.payload.address}));return Object(d.a)(Object(d.a)({},e),{},{address:t.payload.address,key:null===c||void 0===c?void 0:c.key,balance:t.payload.balance,mnemonic:null===c||void 0===c?void 0:c.mnemonic});case"REMOVE_WALLET":var s,o,i=e.wallets.filter((function(e){return e.address!==t.payload.address}));return i.length>0?Object(d.a)(Object(d.a)({},e),{},{wallets:i,address:null===(s=i[0])||void 0===s?void 0:s.address,key:null===(o=i[0])||void 0===o?void 0:o.key}):Object(d.a)(Object(d.a)({},e),{},{wallets:[],address:"",key:"",balance:""});default:return e}};var ae=function(){var e=r.a.useReducer(ne,A),t=Object(o.a)(e,2),n=t[0],a=t[1];return Object(H.jsx)(L.Provider,{value:{dispatch:a,state:n},children:Object(H.jsxs)(i.b,{w:"100%",align:"center",children:[Object(H.jsx)(l.a,{children:"ArMob 2.0"}),Object(H.jsxs)(u.e,{isFitted:!0,align:"center",variant:"enclosed-colored",children:[Object(H.jsxs)(u.d,{w:"90vw",children:[Object(H.jsx)(u.c,{children:Object(H.jsx)(te,{})}),Object(H.jsx)(u.c,{children:Object(H.jsx)(K,{})})]}),Object(H.jsxs)(u.b,{position:"fixed",bottom:"0px",left:"0px",w:"100vw",children:[Object(H.jsx)(u.a,{children:"Wallet"}),Object(H.jsx)(u.a,{isDisabled:""===n.key,children:"Smartweave"})]})]})]})})};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var re=n(576),ce=n(126);s.a.render(Object(H.jsx)(r.a.StrictMode,{children:Object(H.jsx)(re.a,{theme:ce.theme,children:Object(H.jsx)(ae,{})})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[542,1,2]]]);
//# sourceMappingURL=main.ab67825f.chunk.js.map