(this.webpackJsonpsmartweave_explorer=this.webpackJsonpsmartweave_explorer||[]).push([[0],{165:function(e,t){},240:function(e,t){},246:function(e,t){},354:function(e,t){},356:function(e,t){},368:function(e,t){},370:function(e,t){},393:function(e,t){},524:function(e,t){},542:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(61),s=n.n(c),o=n(3),i=n(578),l=n(559),u=n(575),d=n(6),j=n(5),b=n.n(j),p=n(12),f=n(556),O=n(579),h=n(560),x=n(561),m=n(562),y=n(573),v=n(564),g=n(577),w=n(566),k=n(567),S=n(285),C=n(581),T=n(580),E=n(558),A={key:null,balance:"",address:"",tokens:[],tokenAddresses:[],wallets:[]},I=Object(a.createContext)({state:A,dispatch:function(){return null}}),D=n(95),L=n.n(D),W=(n(120),n(69)),R=n(134),_=function(){return L.a.init({host:"arweave.net",port:443})},z=function(){var e=Object(p.a)(b.a.mark((function e(t){var n,a,r;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=_(),a="","string"!==typeof t){e.next=6;break}a=t,e.next=9;break;case 6:return e.next=8,n.wallets.jwkToAddress(t);case 8:a=e.sent;case 9:return e.t0=n.ar,e.next=12,n.wallets.getBalance(a);case 12:return e.t1=e.sent,r=e.t0.winstonToAr.call(e.t0,e.t1),e.abrupt("return",{address:a,balance:r});case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),M=function(){var e=Object(p.a)(b.a.mark((function e(t){var n,a,r,c,s;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=_(),a={query:'\n  query {\n    transactions(ids: ["'.concat(t,'"]) {\n        edges {\n            node {\n                id\n              \ttags {\n                  name\n                  value\n                }\n            }\n        }\n    }\n}')},e.next=4,n.api.post("/graphql",a);case 4:return r=e.sent,console.log(r),c=r.data.data.transactions.edges[0].node.tags.filter((function(e){return"Contract-Src"===e.name}))[0].value,console.log(c),e.next=10,n.transactions.getData(c,{decode:!0,string:!0});case 10:return s=e.sent,e.abrupt("return",s);case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),N=function(){var e=Object(p.a)(b.a.mark((function e(t){var n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=_(),e.next=3,Object(R.a)(n,t);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),F=function(){var e=Object(p.a)(b.a.mark((function e(t,n,a,r,c){var s,o,i,l;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(i in s=_(),console.log("params are"),console.log(a),console.log("types are"),console.log(c),o=Object(d.a)({},a))"integer"===c[i]?o[i]=parseInt(a[i]):"float"===c[i]&&(o[i]=parseFloat(a[i]));return e.next=9,Object(W.interactWriteDryRun)(s,r,n,Object(d.a)(Object(d.a)({},o),{},{function:t}));case 9:return l=e.sent,console.log(l),e.abrupt("return",l.type);case 12:case"end":return e.stop()}}),e)})));return function(t,n,a,r,c){return e.apply(this,arguments)}}(),V=function(){var e=Object(p.a)(b.a.mark((function e(t,n,a,r,c,s){var o,i,l,u;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(l in o=_(),console.log("params are"),console.log(a),console.log("types are"),console.log(c),i=Object(d.a)({},a))"integer"===c[l]?i[l]=parseInt(a[l]):"float"===c[l]&&(i[l]=parseFloat(a[l]));if("write"!==s){e.next=13;break}return e.next=10,Object(W.interactWrite)(o,r,n,Object(d.a)(Object(d.a)({},i),{},{function:t}));case 10:u=e.sent,e.next=16;break;case 13:return e.next=15,Object(W.interactRead)(o,r,n,Object(d.a)(Object(d.a)({},i),{},{function:t}));case 15:u=e.sent;case 16:return console.log(u),e.abrupt("return",u);case 18:case"end":return e.stop()}}),e)})));return function(t,n,a,r,c,s){return e.apply(this,arguments)}}(),q=n(4),J=n(345),B=function(){var e=r.a.useState(""),t=Object(o.a)(e,2),n=t[0],a=t[1],c=r.a.useState(""),s=Object(o.a)(c,2),u=s[0],d=s[1],j=r.a.useState([]),y=Object(o.a)(j,2),v=y[0],g=y[1],w=r.a.useState([]),k=Object(o.a)(w,2),S=k[0],C=k[1],T=r.a.useState({}),E=Object(o.a)(T,2),A=E[0],I=E[1],D=function(){var e=Object(p.a)(b.a.mark((function e(){var t,n,r,c;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,M(u);case 2:if(t=e.sent,a(t),!t){e.next=15;break}return a(t),e.next=8,J.parse(t,{ecmaVersion:"latest",sourceType:"module"});case 8:return"handle"===(n=e.sent).body[0].declaration.id.name&&(r=n.body[0].declaration.body.body.filter((function(e){return"IfStatement"===e.type&&"input"===e.test.left.object.name})),c=L(r),g(c.writeMethods.filter((function(e){return e.name}))),C(c.readMethods.filter((function(e){return e.name}))),console.log(c)),e.next=12,N(u);case 12:t=e.sent,console.log(t),I(t);case 15:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),L=function(e){var t=[],n=[];return e.forEach((function(e){if("BinaryExpression"===e.test.type&&e.test.left.object&&"input"===e.test.left.object.name)try{console.log(e);var a=e.consequent.body[e.consequent.body.length-1];if("ReturnStatement"===a.type&&"state"===a.argument.properties[0].key.name){var r=e.consequent.body.filter((function(e){return"VariableDeclaration"===e.type&&e.declarations[0].init.object&&"input"===e.declarations[0].init.object.name})).map((function(e){return e.declarations[0].init.property.name})),c=e.test.right.value;n.push({name:c,params:r,methodType:"write",contractId:u})}else{var s=e.consequent.body.filter((function(e){return"VariableDeclaration"===e.type&&(e.declarations[0].init.left&&e.declarations[0].init.left.object&&"input"===e.declarations[0].init.left.object.name||e.declarations[0].init.object&&"input"===e.declarations[0].init.object.name)})).map((function(e){return e.declarations[0].init.left.property.name})),o=e.test.right.value;t.push({name:o,params:s,methodType:"read",contractId:u})}}catch(i){console.log(i)}})),{readMethods:t,writeMethods:n}};return Object(q.jsxs)(i.c,{children:[Object(q.jsx)(f.a,{placeholder:"Smartweave Contract ID",value:u,onChange:function(e){return d(e.target.value)}}),Object(q.jsx)(O.a,{onClick:D,children:"Load Contract"}),Object(q.jsx)(l.a,{size:"xs",children:"Contract Source"}),Object(q.jsx)(h.a,{w:"100%",children:Object(q.jsx)(x.a,{overflow:"scroll",height:"200px",readOnly:!0,fontSize:"xs",isReadOnly:!0,defaultValue:n})}),Object(q.jsx)(l.a,{size:"xs",children:"Contract State"}),Object(q.jsx)(h.a,{w:"100%",overflow:"scroll",height:"200px",fontSize:"xs",align:"start",children:JSON.stringify(A,null,2)}),Object(q.jsx)(l.a,{size:"xs",children:"Write Methods"}),Object(q.jsx)(m.a,{children:v&&v.map((function(e){return Object(q.jsx)(m.b,{children:Object(q.jsx)(H,{name:e.name,params:e.params,methodType:e.methodType,contractId:u})})}))}),Object(q.jsx)(l.a,{size:"xs",children:"Read Methods"}),Object(q.jsx)(m.a,{children:S&&S.map((function(e){return Object(q.jsx)(m.b,{children:Object(q.jsx)(H,{name:e.name,params:e.params,methodType:e.methodType,contractId:u})})}))})]})},H=function(e){var t=e.name,n=e.params,a=e.methodType,c=e.contractId,s=r.a.useState({}),l=Object(o.a)(s,2),u=l[0],j=l[1],m=r.a.useState({}),A=Object(o.a)(m,2),D=A[0],L=A[1],W=r.a.useContext(I).state,R=Object(y.a)(),_=r.a.useState(),z=Object(o.a)(_,2),M=z[0],N=z[1],J=Object(v.a)(),B=J.isOpen,H=J.onToggle,K=function(){var e=Object(p.a)(b.a.mark((function e(n){var r;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,V(t,c,u,W.key,D,a);case 2:r=e.sent,R(r?{title:"Successfully submitted transaction!",status:"success",duration:3e3,position:"bottom"}:{title:"Error submitting transaction",status:"error",duration:3e3,position:"bottom"}),n(),N();case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(q.jsx)(g.a,{allowToggle:!0,children:Object(q.jsxs)(g.d,{children:[Object(q.jsxs)(g.b,{children:[Object(q.jsx)(w.a,{children:t}),Object(q.jsx)(g.c,{})]}),Object(q.jsxs)(g.e,{children:[n.map((function(e,n){return Object(q.jsxs)(k.a,{children:[Object(q.jsx)(f.a,{placeholder:e,value:u[n],onChange:function(t){var n=Object(d.a)({},u);n[e]=t.target.value,j(n)}},t+e),Object(q.jsxs)(S.a,{name:"param-type",onChange:function(t){var n=Object(d.a)({},D);n[e]=t.toString(),L(n)},value:D[e],direction:"horizontal",children:[Object(q.jsx)(C.a,{value:"string",children:"String"}),Object(q.jsx)(C.a,{value:"integer",children:"Integer"}),Object(q.jsx)(C.a,{value:"float",children:"Float"})]})]})})),"write"===a?Object(q.jsx)(q.Fragment,{children:!B&&!M&&Object(q.jsx)(O.a,{onClick:function(){H(),F(t,c,u,W.key,D).then((function(e){return N(e)}))},children:"Test Contract Method Call"})}):Object(q.jsx)(q.Fragment,{children:B?Object(q.jsx)(O.a,{onClick:function(){H(),N()},children:"Start Over"}):Object(q.jsx)(O.a,{onClick:function(){H(),V(t,c,u,W.key,D,a).then((function(e){return N(e)}))},children:"Read Contract"})}),Object(q.jsx)(T.a,{in:B,children:"write"===a?Object(q.jsxs)(i.c,{children:[M?Object(q.jsxs)(w.a,{children:["Transaction status is ",M]}):Object(q.jsx)(E.a,{}),Object(q.jsxs)(i.a,{children:[Object(q.jsx)(O.a,{onClick:function(){return K(H)},children:"Live dangerously!"}),Object(q.jsx)(O.a,{onClick:function(){H(),N()},children:"Start Over"})]})]}):Object(q.jsxs)(h.a,{children:[Object(q.jsx)(w.a,{children:"Method Result"}),M?Object(q.jsx)(x.a,{isReadOnly:!0,overflow:"scroll",height:"200px",readOnly:!0,fontSize:"xs",defaultValue:JSON.stringify(M,null,2)}):Object(q.jsx)(E.a,{})]})})]})]},t)})},K=n(568),P=n(574),U=n(569),G=n(572),$=n(571),Q=n(176),X=n(284),Y=n(97),Z=function(){var e=Object(y.a)(),t=r.a.useContext(I),n=t.state,a=t.dispatch,c=r.a.useState(!1),s=Object(o.a)(c,2),u=s[0],j=s[1],h=r.a.useState(""),x=Object(o.a)(h,2),m=x[0],v=x[1],g=r.a.useState(""),S=Object(o.a)(g,2),C=S[0],T=S[1],E=Object(K.a)(C).onCopy,A=function(){var t=Object(p.a)(b.a.mark((function t(n){var r;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:(r=new FileReader).onabort=function(){return console.log("file reading was aborted")},r.onerror=function(){return console.log("file reading has failed")},r.onload=function(){var t=Object(p.a)(b.a.mark((function t(r){var c,s;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(j(!0),"application/json"!==n[0].type){t.next=16;break}return t.prev=2,c=JSON.parse(r.target.result),t.next=6,z(c);case 6:s=t.sent,a({type:"ADD_WALLET",payload:Object(d.a)(Object(d.a)({},s),{},{key:c,mnemonic:c.mnemonic})}),t.next=14;break;case 10:t.prev=10,t.t0=t.catch(2),console.log("Invalid json in wallet file"),e({title:"Error loading wallet",status:"error",duration:3e3,position:"bottom-left",description:"Invalid JSON in wallet file"});case 14:t.next=18;break;case 16:console.log("Invalid file type"),e({title:"Error loading wallet",status:"error",duration:3e3,position:"bottom-left",description:"Invalid file type"});case 18:j(!1);case 19:case"end":return t.stop()}}),t,null,[[2,10]])})));return function(e){return t.apply(this,arguments)}}();try{r.readAsText(n[0])}catch(c){console.log("Invalid file type"),e({title:"Error loading wallet",status:"error",duration:3e3,position:"bottom-left",description:"Invalid file type"})}case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),D=function(){var e=Object(p.a)(b.a.mark((function e(t){var n,r;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return j(!0),e.next=3,Object(Q.getKeyFromMnemonic)(t);case 3:return n=e.sent,e.next=6,z(n);case 6:r=e.sent,j(!1),a({type:"ADD_WALLET",payload:Object(d.a)(Object(d.a)({},r),{},{key:n,mnemonic:t})});case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),L=function(){var e=Object(p.a)(b.a.mark((function e(){var t;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return j(!0),e.next=3,Object(Q.generateMnemonic)();case 3:t=e.sent,v(t),D(t);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),W=function(){var e=Object(p.a)(b.a.mark((function e(t){var n,a,r;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=new Blob([JSON.stringify(Object(d.a)(Object(d.a)({},t.key),{},{mnemonic:t.mnemonic}),null,2)],{type:"application/json"}),e.next=3,URL.createObjectURL(n);case 3:a=e.sent,(r=document.createElement("a")).href=a,r.download="arweave-keyfile-".concat(t.address,".json"),document.body.appendChild(r),r.click(),document.body.removeChild(r);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),R=function(){var e=Object(p.a)(b.a.mark((function e(t){var n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,z(t);case 2:n=e.sent,a({type:"CHANGE_ACTIVE_WALLET",payload:{address:n.address,balance:n.balance}});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(q.jsxs)(i.b,{align:"center",children:[Object(q.jsxs)(P.a,{isLoaded:!u,children:[Object(q.jsx)(k.a,{w:"100%",borderStyle:"dashed",borderWidth:"2px",mb:2,children:Object(q.jsx)(X.a,{onDrop:A,children:function(e){var t=e.getRootProps,n=e.getInputProps;return Object(q.jsx)("section",{children:Object(q.jsxs)("div",Object(d.a)(Object(d.a)({},t()),{},{children:[Object(q.jsx)("input",Object(d.a)({},n())),Object(q.jsx)(k.a,{flexDirection:"row",padding:3,children:Object(q.jsx)(w.a,{fontSize:14,textAlign:"center",children:"Drop a wallet file or click to load wallet"})})]}))})}})}),Object(q.jsxs)(i.b,{w:"100%",mb:2,children:[Object(q.jsx)(l.a,{size:"xs",children:"Wallet mnemonic"}),Object(q.jsx)(f.a,{w:"93%%",placeholder:"Enter 12 word seedphrase",onChange:function(e){v(e.target.value)}}),Object(q.jsx)(O.a,{isDisabled:""===m,onClick:function(){return D(m)},children:"Load Wallet"})]}),Object(q.jsx)(i.b,{w:"100%",children:Object(q.jsx)(O.a,{mt:2,onClick:L,children:"Generate New Wallet"})})]}),n.address&&Object(q.jsxs)(q.Fragment,{children:[Object(q.jsx)(U.a,{}),Object(q.jsx)(l.a,{size:"sm",children:"Loaded Wallets"})]}),n.wallets.length>0&&n.wallets.map((function(e){return console.log(e),Object(q.jsx)(i.b,{isInline:!0,align:"start",children:Object(q.jsxs)(G.a,{children:[Object(q.jsx)(G.e,{children:Object(q.jsx)(w.a,{whiteSpace:"nowrap",overflow:"hidden",maxWidth:"90vw",textOverflow:"ellipsis",cursor:"pointer",children:e.address})}),Object(q.jsxs)(G.d,{children:[Object(q.jsx)(G.b,{}),Object(q.jsx)(G.c,{children:Object(q.jsxs)(i.b,{isInline:!0,justifyContent:"space-around",children:[Object(q.jsxs)($.a,{direction:"column",align:"center",justify:"center",as:"button",onClick:function(){R(e.address)},alignContent:"start",children:[Object(q.jsx)(Y.a,{size:16}),Object(q.jsx)(w.a,{children:"Use"})]},e.address+"pseudo2"),Object(q.jsxs)($.a,{as:"button",direction:"column",align:"center",justify:"center",onClick:function(){a({type:"REMOVE_WALLET",payload:{address:e.address}})},children:[Object(q.jsx)(Y.d,{size:16}),Object(q.jsx)(w.a,{children:"Remove"})]}),Object(q.jsxs)($.a,{as:"button",direction:"column",align:"center",justify:"center",onClick:function(){return W(e)},children:[Object(q.jsx)(Y.c,{size:16}),Object(q.jsx)(w.a,{children:"Download Keyfile"})]}),e.mnemonic&&Object(q.jsxs)($.a,{as:"button",direction:"column",align:"center",justify:"center",onClick:function(){e.mnemonic&&T(e.mnemonic),E()},children:[Object(q.jsx)(Y.b,{size:16}),Object(q.jsx)(w.a,{children:"Copy Seedphrase"})]})]})})]})]})})}))]})},ee=function(e,t){switch(console.log("Current state is:"),console.log(e),console.log("Action requested is:"),console.log(t),t.type){case"LOAD_STATE":return Object(d.a)({},t.payload.state);case"ADD_WALLET":var n,a=null===(n=e.wallets)||void 0===n?void 0:n.filter((function(e){return e.address===t.payload.address})),r=e.wallets?e.wallets:[];return a&&0===a.length&&(null===r||void 0===r||r.push({address:t.payload.address,key:t.payload.key,mnemonic:t.payload.mnemonic})),Object(d.a)(Object(d.a)({},e),{},{key:t.payload.key,balance:t.payload.balance,address:t.payload.address,mnemonic:t.payload.mnemonic,wallets:r});case"UPDATE_TOKENS":return Object(d.a)(Object(d.a)({},e),{},{tokens:t.payload.tokens});case"SET_PICTURE":return Object(d.a)(Object(d.a)({},e),{},{picture:t.payload.picture});case"SET_BLOCK_HEIGHT":return Object(d.a)(Object(d.a)({},e),{},{blockHeight:t.payload.blockHeight});case"SET_TOKEN_ADDRESSES":return Object(d.a)(Object(d.a)({},e),{},{tokenAddresses:t.payload.tokenAddresses});case"CHANGE_ACTIVE_WALLET":var c=e.wallets.find((function(e){return e.address===t.payload.address}));return Object(d.a)(Object(d.a)({},e),{},{address:t.payload.address,key:null===c||void 0===c?void 0:c.key,balance:t.payload.balance,mnemonic:null===c||void 0===c?void 0:c.mnemonic});case"REMOVE_WALLET":var s,o,i=e.wallets.filter((function(e){return e.address!==t.payload.address}));return i.length>0?Object(d.a)(Object(d.a)({},e),{},{wallets:i,address:null===(s=i[0])||void 0===s?void 0:s.address,key:null===(o=i[0])||void 0===o?void 0:o.key}):Object(d.a)(Object(d.a)({},e),{},{wallets:[],address:"",key:"",balance:""});default:return e}};var te=function(){var e=r.a.useReducer(ee,A),t=Object(o.a)(e,2),n=t[0],a=t[1];return Object(q.jsx)(I.Provider,{value:{dispatch:a,state:n},children:Object(q.jsxs)(i.b,{w:"100%",align:"center",children:[Object(q.jsx)(l.a,{children:"ArMob 2.0"}),Object(q.jsxs)(u.e,{isFitted:!0,align:"center",variant:"enclosed-colored",children:[Object(q.jsxs)(u.d,{w:"90vw",children:[Object(q.jsx)(u.c,{children:Object(q.jsx)(Z,{})}),Object(q.jsx)(u.c,{children:Object(q.jsx)(B,{})})]}),Object(q.jsxs)(u.b,{position:"fixed",bottom:"0px",left:"0px",w:"100vw",children:[Object(q.jsx)(u.a,{children:"Wallet"}),Object(q.jsx)(u.a,{isDisabled:""===n.address,children:"Tokens"}),Object(q.jsx)(u.a,{isDisabled:""===n.address,children:"Transactions"}),Object(q.jsx)(u.a,{isDisabled:""===n.key,children:"Smartweave"})]})]})]})})};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var ne=n(576),ae=n(127);s.a.render(Object(q.jsx)(r.a.StrictMode,{children:Object(q.jsx)(ne.a,{theme:ae.theme,children:Object(q.jsx)(te,{})})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[542,1,2]]]);
//# sourceMappingURL=main.026f57da.chunk.js.map